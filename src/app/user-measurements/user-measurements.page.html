<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>My measurements</ion-title>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">User Measurements</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-list>
    <ion-item-group *ngFor="let measurement of userMeasurements">
      <ion-item-divider>
        <ion-label>
          Date: {{measurement.get('datetimerecorded') | date:'medium'}}
        </ion-label>
      </ion-item-divider>

      <ion-item lines="none">
        <ion-label>
          <a [href]="'https://www.google.com/maps/search/?api=1&query=' + measurement.get('latitude') + ',' + measurement.get('longitude')" target="_blank">
            Latitude: {{measurement.get('latitude') | number:'1.4-4'}} |
            Longitude: {{measurement.get('longitude') | number:'1.4-4'}}
          </a>
        </ion-label>
      </ion-item>

      <ion-item lines="none">
        <ion-label>
          Secchi Depth: {{measurement.get('secchi_depth')}}
        </ion-label>
      </ion-item>

      <ion-item lines="none" *ngIf="measurement.get('colourathalfdepth')">
        <ion-label class="ion-align-items-center">
          Forel-Ule Color: {{measurement.get('colourathalfdepth')}} 
          <span [style.background-color]="getColorForValue(measurement.get('colourathalfdepth'))" 
                style="display:inline-block; width:20px; height:20px; vertical-align:middle;">
          </span>      </ion-label>
      </ion-item>

      <ion-item lines="none" *ngIf="measurement.get('colourathalfdepthimage')">
        <div class="image-container">
          <img [src]="measurement.get('colourathalfdepthimage').url()" alt="Colour at Half Depth" class="thumbnail">
          <div class="image-caption">Colour at half depth image</div>
        </div>
      </ion-item>
      
      <ion-item lines="none" *ngIf="measurement.get('colouratsurfaceimage')">
        <div class="image-container">
          <img [src]="measurement.get('colouratsurfaceimage').url()" alt="Colour at Surface" class="thumbnail">
          <div class="image-caption">Colour at surface image</div>
        </div>
      </ion-item>    </ion-item-group>
  </ion-list>
</ion-content>
